{"ast":null,"code":"var _jsxFileName = \"/home/rootb/Escritorio/habilitacion/meetapp-fe/src/views/MisReservas.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport LineaDeMisReservas from \"./LineaDeMisReservas\";\nimport Loading from \"../layout/Loading\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MisReservas = () => {\n  _s();\n\n  const {\n    user\n  } = useAuth0();\n  const {\n    email\n  } = user;\n  const comensaleId = email;\n  const history = useHistory(); //=================\n\n  const [search, setSearch] = useState(\"\");\n  const [reservas, setReservas] = useState({\n    reservas: [],\n    status: false\n  }); //{ \"id\":uniqid(), \"nombre\":local,\n  // \"estado\": \"Pendiente\",\n  // \"fecha\":fecha,\n  // \"hora\":hora,\n  // \"autotest\":false }\n\n  const cargarReservas = () => {\n    var url = `http://localhost:5000/api/reservas/${comensaleId}`;\n    axios.get(url).then(res => {\n      setReservas({\n        reservas: res.data,\n        status: true\n      });\n    });\n  };\n\n  useEffect(() => {\n    cargarReservas();\n  }, []);\n  console.log(reservas.reservas);\n  const reservasFiltradas = reservas.reservas.filter(reserva => reserva.local.toLowerCase().includes(search.toLowerCase()) | reserva.fecha.toLowerCase().includes(search.toLowerCase()) | reserva.hora.toLowerCase().includes(search.toLowerCase()) | reserva.estado.toLowerCase().includes(search.toLowerCase()));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container-fluid\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-dark mb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Mis Reservas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), !reservas.status ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this) : reservas.reservas.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-info\",\n      role: \"alert\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-center d-flex justify-content-xl-center align-items-xl-start\",\n        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Usted no registra reservas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        title: \"ir a realizar una reserva\",\n        className: \"btn btn-primary text-center d-flex mx-auto justify-content-xl-center align-items-xl-center\",\n        type: \"button\",\n        onClick: e => history.push('/reservar'),\n        style: {\n          marginTop: \"5px\",\n          marginNottom: \"5px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-arrow-right\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this), \"\\xA0 Reservar\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card shadow\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6 text-nowrap\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"dataTable_length\",\n              className: \"dataTables_length\",\n              \"aria-controls\": \"dataTable\",\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                children: [\"Mostrar\\xA0\", /*#__PURE__*/_jsxDEV(\"select\", {\n                  className: \"form-control form-control-sm custom-select custom-select-sm\",\n                  defaultValue: 10,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"10\",\n                    children: \"10\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 90,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: 25,\n                    children: \"25\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 91,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: 50,\n                    children: \"50\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 92,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: 100,\n                    children: \"100\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 93,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-md-right dataTables_filter\",\n              id: \"dataTable_filter\",\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"search\",\n                  className: \"form-control form-control-sm\",\n                  \"aria-controls\": \"dataTable\",\n                  placeholder: \"\\uD83D\\uDD0E Buscar en reservas\",\n                  autoFocus: true,\n                  onChange: e => setSearch(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 104,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"table-responsive table mt-2\",\n          id: \"dataTable\",\n          role: \"grid\",\n          \"aria-describedby\": \"dataTable_info\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"table my-0\",\n            id: \"dataTable\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Local\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 125,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Fecha\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Hora\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 127,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Estado\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Detalles\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 129,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Auto-test\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Anular\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: reservasFiltradas.map(reserva => /*#__PURE__*/_jsxDEV(LineaDeMisReservas, {\n                id: reserva.id,\n                nombre: reserva.local,\n                direccion: reserva.direccion,\n                piso: reserva.piso,\n                fecha: reserva.fecha,\n                hora: reserva.hora,\n                estado: reserva.estado,\n                cantidadReservada: reserva.cantidadReservada,\n                autotest: false\n              }, reserva.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tfoot\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 152,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 155,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 156,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 157,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6 align-self-center\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              id: \"dataTable_info\",\n              className: \"dataTables_info\",\n              role: \"status\",\n              \"aria-live\": \"polite\",\n              children: [reservasFiltradas.length !== 0 ? `Mostrando 1 a ${reservasFiltradas.length} de 1` : \"No hay resultados\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6\",\n            children: /*#__PURE__*/_jsxDEV(\"nav\", {\n              className: \"d-lg-flex justify-content-lg-end dataTables_paginate paging_simple_numbers\",\n              children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"pagination\",\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"page-item disabled\",\n                  children: /*#__PURE__*/_jsxDEV(Link, {\n                    className: \"page-link\",\n                    to: \"/mis-reservas\",\n                    \"aria-label\": \"Previous\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      \"aria-hidden\": \"true\",\n                      children: \"\\xAB\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 186,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 181,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"page-item active\",\n                  children: /*#__PURE__*/_jsxDEV(Link, {\n                    className: \"page-link\",\n                    to: \"/mis-reservas\",\n                    children: \"1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 190,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"page-item\",\n                  children: /*#__PURE__*/_jsxDEV(Link, {\n                    className: \"page-link\",\n                    to: \"/mis-reservas\",\n                    \"aria-label\": \"Next\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      \"aria-hidden\": \"true\",\n                      children: \"\\xBB\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 200,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 195,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n\n_s(MisReservas, \"uNuHfSi3w+S86icJTwRjNG5FEcU=\", false, function () {\n  return [useAuth0, useHistory];\n});\n\n_c = MisReservas;\nexport default MisReservas;\n\nvar _c;\n\n$RefreshReg$(_c, \"MisReservas\");","map":{"version":3,"sources":["/home/rootb/Escritorio/habilitacion/meetapp-fe/src/views/MisReservas.jsx"],"names":["React","useState","useEffect","useHistory","axios","Link","LineaDeMisReservas","Loading","useAuth0","MisReservas","user","email","comensaleId","history","search","setSearch","reservas","setReservas","status","cargarReservas","url","get","then","res","data","console","log","reservasFiltradas","filter","reserva","local","toLowerCase","includes","fecha","hora","estado","length","e","push","marginTop","marginNottom","target","value","map","id","direccion","piso","cantidadReservada"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,kBAAP,MAA+B,sBAA/B;AACA,OAAOC,OAAP,MAAoB,mBAApB;AACA,SAASC,QAAT,QAAyB,oBAAzB;;;AAEA,MAAMC,WAAW,GAAG,MAAM;AAAA;;AACxB,QAAM;AAAEC,IAAAA;AAAF,MAAWF,QAAQ,EAAzB;AACA,QAAM;AAACG,IAAAA;AAAD,MAAWD,IAAjB;AACA,QAAME,WAAW,GAAED,KAAnB;AACA,QAAME,OAAO,GAAEV,UAAU,EAAzB,CAJwB,CAKxB;;AACA,QAAM,CAACW,MAAD,EAASC,SAAT,IAAsBd,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACe,QAAD,EAAWC,WAAX,IAA0BhB,QAAQ,CACtC;AACEe,IAAAA,QAAQ,EAAE,EADZ;AAEEE,IAAAA,MAAM,EAAE;AAFV,GADsC,CAAxC,CAPwB,CAatB;AACI;AACA;AACA;AACA;;AACN,QAAMC,cAAc,GAAG,MAAM;AAC3B,QAAIC,GAAG,GAAI,sCAAqCR,WAAY,EAA5D;AACAR,IAAAA,KAAK,CAACiB,GAAN,CAAUD,GAAV,EAAeE,IAAf,CAAoBC,GAAG,IAAI;AACvBN,MAAAA,WAAW,CAAC;AACVD,QAAAA,QAAQ,EAAEO,GAAG,CAACC,IADJ;AAEVN,QAAAA,MAAM,EAAE;AAFE,OAAD,CAAX;AAIH,KALD;AAMD,GARD;;AASAhB,EAAAA,SAAS,CAAE,MAAM;AACfiB,IAAAA,cAAc;AACf,GAFQ,EAEN,EAFM,CAAT;AAGAM,EAAAA,OAAO,CAACC,GAAR,CAAYV,QAAQ,CAACA,QAArB;AAEA,QAAMW,iBAAiB,GAAGX,QAAQ,CAACA,QAAT,CAAkBY,MAAlB,CAA0BC,OAAD,IACjDA,OAAO,CAACC,KAAR,CAAcC,WAAd,GAA4BC,QAA5B,CAAqClB,MAAM,CAACiB,WAAP,EAArC,IACAF,OAAO,CAACI,KAAR,CAAcF,WAAd,GAA4BC,QAA5B,CAAqClB,MAAM,CAACiB,WAAP,EAArC,CADA,GAEAF,OAAO,CAACK,IAAR,CAAaH,WAAb,GAA2BC,QAA3B,CAAoClB,MAAM,CAACiB,WAAP,EAApC,CAFA,GAGAF,OAAO,CAACM,MAAR,CAAeJ,WAAf,GAA6BC,QAA7B,CAAsClB,MAAM,CAACiB,WAAP,EAAtC,CAJwB,CAA1B;AAQA,sBACE;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA,4BACE;AAAI,MAAA,SAAS,EAAC,gBAAd;AAAA,6BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF,EAIG,CAACf,QAAQ,CAACE,MAAV,gBACD,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,YADC,GAGCF,QAAQ,CAACA,QAAT,CAAkBoB,MAAlB,KAA2B,CAA3B,gBACA;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAkC,MAAA,IAAI,EAAC,OAAvC;AAAA,8BACE;AAAM,QAAA,SAAS,EAAC,mEAAhB;AAAA,+BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF,eAIE;AACE,QAAA,KAAK,EAAC,2BADR;AAEE,QAAA,SAAS,EAAC,4FAFZ;AAGE,QAAA,IAAI,EAAC,QAHP;AAIE,QAAA,OAAO,EAAEC,CAAC,IAAExB,OAAO,CAACyB,IAAR,CAAa,WAAb,CAJd;AAKE,QAAA,KAAK,EAAE;AAAEC,UAAAA,SAAS,EAAE,KAAb;AAAoBC,UAAAA,YAAY,EAAE;AAAlC,SALT;AAAA,gCAOE;AAAG,UAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,gBAPF;AAAA;AAAA;AAAA;AAAA;AAAA,cAJF;AAAA;AAAA;AAAA;AAAA;AAAA,YADA,gBAiBA;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA,6BACE;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA,gCACE;AAAK,UAAA,SAAS,EAAC,KAAf;AAAA,kCACE;AAAK,YAAA,SAAS,EAAC,sBAAf;AAAA,mCACE;AACE,cAAA,EAAE,EAAC,kBADL;AAEE,cAAA,SAAS,EAAC,mBAFZ;AAGE,+BAAc,WAHhB;AAAA,qCAKE;AAAA,uDAEE;AACE,kBAAA,SAAS,EAAC,6DADZ;AAEE,kBAAA,YAAY,EAAE,EAFhB;AAAA,0CAIE;AAAQ,oBAAA,KAAK,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAJF,eAKE;AAAQ,oBAAA,KAAK,EAAE,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BALF,eAME;AAAQ,oBAAA,KAAK,EAAE,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BANF,eAOE;AAAQ,oBAAA,KAAK,EAAE,GAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAPF;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AALF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADF,eAqBE;AAAK,YAAA,SAAS,EAAC,UAAf;AAAA,mCACE;AACE,cAAA,SAAS,EAAC,iCADZ;AAEE,cAAA,EAAE,EAAC,kBAFL;AAAA,qCAIE;AAAA,uCACE;AACE,kBAAA,IAAI,EAAC,QADP;AAEE,kBAAA,SAAS,EAAC,8BAFZ;AAGE,mCAAc,WAHhB;AAIE,kBAAA,WAAW,EAAC,iCAJd;AAKE,kBAAA,SAAS,MALX;AAME,kBAAA,QAAQ,EAAGH,CAAD,IAAOtB,SAAS,CAACsB,CAAC,CAACI,MAAF,CAASC,KAAV;AAN5B;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AAJF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBArBF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAwCE;AACE,UAAA,SAAS,EAAC,6BADZ;AAEE,UAAA,EAAE,EAAC,WAFL;AAGE,UAAA,IAAI,EAAC,MAHP;AAIE,8BAAiB,gBAJnB;AAAA,iCAME;AAAO,YAAA,SAAS,EAAC,YAAjB;AAA8B,YAAA,EAAE,EAAC,WAAjC;AAAA,oCACE;AAAA,qCACE;AAAA,wCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAHF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAJF,eAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBALF,eAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBANF,eAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAPF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBADF,eAYE;AAAA,wBACGf,iBAAiB,CAACgB,GAAlB,CAAuBd,OAAD,iBACrB,QAAC,kBAAD;AAEE,gBAAA,EAAE,EAAEA,OAAO,CAACe,EAFd;AAGE,gBAAA,MAAM,EAAEf,OAAO,CAACC,KAHlB;AAIE,gBAAA,SAAS,EAAED,OAAO,CAACgB,SAJrB;AAKE,gBAAA,IAAI,EAAEhB,OAAO,CAACiB,IALhB;AAME,gBAAA,KAAK,EAAEjB,OAAO,CAACI,KANjB;AAOE,gBAAA,IAAI,EAAEJ,OAAO,CAACK,IAPhB;AAQE,gBAAA,MAAM,EAAEL,OAAO,CAACM,MARlB;AASE,gBAAA,iBAAiB,EAAEN,OAAO,CAACkB,iBAT7B;AAUE,gBAAA,QAAQ,EAAE;AAVZ,iBACOlB,OAAO,CAACe,EADf;AAAA;AAAA;AAAA;AAAA,sBADD;AADH;AAAA;AAAA;AAAA;AAAA,oBAZF,eA4BE;AAAA,qCACE;AAAA,wCACE;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE;AAAA;AAAA;AAAA;AAAA,wBAFF,eAGE;AAAA;AAAA;AAAA;AAAA,wBAHF,eAIE;AAAA;AAAA;AAAA;AAAA,wBAJF,eAKE;AAAA;AAAA;AAAA;AAAA,wBALF,eAME;AAAA;AAAA;AAAA;AAAA,wBANF,eAOE;AAAA;AAAA;AAAA;AAAA,wBAPF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBA5BF;AAAA;AAAA;AAAA;AAAA;AAAA;AANF;AAAA;AAAA;AAAA;AAAA,gBAxCF,eAuFE;AAAK,UAAA,SAAS,EAAC,KAAf;AAAA,kCACE;AAAK,YAAA,SAAS,EAAC,4BAAf;AAAA,mCACE;AACE,cAAA,EAAE,EAAC,gBADL;AAEE,cAAA,SAAS,EAAC,iBAFZ;AAGE,cAAA,IAAI,EAAC,QAHP;AAIE,2BAAU,QAJZ;AAAA,yBAMGjB,iBAAiB,CAACS,MAAlB,KAA6B,CAA7B,GACI,iBAAgBT,iBAAiB,CAACS,MAAO,OAD7C,GAEG,mBARN,eASE;AAAA;AAAA;AAAA;AAAA,sBATF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADF,eAcE;AAAK,YAAA,SAAS,EAAC,UAAf;AAAA,mCACE;AAAK,cAAA,SAAS,EAAC,4EAAf;AAAA,qCACE;AAAI,gBAAA,SAAS,EAAC,YAAd;AAAA,wCACE;AAAI,kBAAA,SAAS,EAAC,oBAAd;AAAA,yCACE,QAAC,IAAD;AACE,oBAAA,SAAS,EAAC,WADZ;AAEE,oBAAA,EAAE,EAAC,eAFL;AAGE,kCAAW,UAHb;AAAA,2CAKE;AAAM,qCAAY,MAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AALF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,wBADF,eAUE;AAAI,kBAAA,SAAS,EAAC,kBAAd;AAAA,yCACE,QAAC,IAAD;AAAM,oBAAA,SAAS,EAAC,WAAhB;AAA4B,oBAAA,EAAE,EAAC,eAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,wBAVF,eAeE;AAAI,kBAAA,SAAS,EAAC,WAAd;AAAA,yCACE,QAAC,IAAD;AACE,oBAAA,SAAS,EAAC,WADZ;AAEE,oBAAA,EAAE,EAAC,eAFL;AAGE,kCAAW,MAHb;AAAA,2CAKE;AAAM,qCAAY,MAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AALF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,wBAfF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBAdF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAvFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAxBJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAkKD,CA1MD;;GAAM3B,W;UACaD,Q,EAGFL,U;;;KAJXM,W;AA4MN,eAAeA,WAAf","sourcesContent":["import React from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nimport LineaDeMisReservas from \"./LineaDeMisReservas\";\r\nimport Loading from \"../layout/Loading\";\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\n\r\nconst MisReservas = () => {\r\n  const { user } = useAuth0();\r\n  const {email } = user;\r\n  const comensaleId= email;\r\n  const history= useHistory();\r\n  //=================\r\n  const [search, setSearch] = useState(\"\");\r\n  const [reservas, setReservas] = useState( \r\n    {\r\n      reservas: [], \r\n      status: false\r\n    })\r\n\r\n    //{ \"id\":uniqid(), \"nombre\":local,\r\n        // \"estado\": \"Pendiente\",\r\n        // \"fecha\":fecha,\r\n        // \"hora\":hora,\r\n        // \"autotest\":false }\r\n  const cargarReservas = () => {\r\n    var url = `http://localhost:5000/api/reservas/${comensaleId}`;\r\n    axios.get(url).then(res => {\r\n        setReservas({\r\n          reservas: res.data,\r\n          status: true\r\n        });\r\n    });\r\n  }\r\n  useEffect (() => {\r\n    cargarReservas();\r\n  }, []);\r\n  console.log(reservas.reservas)\r\n\r\n  const reservasFiltradas = reservas.reservas.filter((reserva) =>\r\n    reserva.local.toLowerCase().includes(search.toLowerCase())|\r\n    reserva.fecha.toLowerCase().includes(search.toLowerCase())|\r\n    reserva.hora.toLowerCase().includes(search.toLowerCase())|\r\n    reserva.estado.toLowerCase().includes(search.toLowerCase())\r\n  );\r\n\r\n\r\n  return (\r\n    <div className=\"container-fluid\">\r\n      <h3 className=\"text-dark mb-4\">\r\n        <strong>Mis Reservas</strong>\r\n      </h3>\r\n      {!reservas.status?\r\n      <Loading/>\r\n      :\r\n        reservas.reservas.length===0?\r\n        <div className=\"alert alert-info\" role=\"alert\">\r\n          <span className=\"text-center d-flex justify-content-xl-center align-items-xl-start\">\r\n            <strong>Usted no registra reservas</strong>\r\n          </span>\r\n          <button\r\n            title=\"ir a realizar una reserva\"\r\n            className=\"btn btn-primary text-center d-flex mx-auto justify-content-xl-center align-items-xl-center\"\r\n            type=\"button\"\r\n            onClick={e=>history.push('/reservar')}\r\n            style={{ marginTop: \"5px\", marginNottom: \"5px\" }}\r\n          >\r\n            <i className=\"fas fa-arrow-right\"/>\r\n            &nbsp; Reservar\r\n          </button>\r\n        </div>\r\n        :\r\n        <div className=\"card shadow\">\r\n          <div className=\"card-body\">\r\n            <div className=\"row\">\r\n              <div className=\"col-md-6 text-nowrap\">\r\n                <div\r\n                  id=\"dataTable_length\"\r\n                  className=\"dataTables_length\"\r\n                  aria-controls=\"dataTable\"\r\n                >\r\n                  <label>\r\n                    Mostrar \r\n                    <select\r\n                      className=\"form-control form-control-sm custom-select custom-select-sm\"\r\n                      defaultValue={10}\r\n                    >\r\n                      <option value=\"10\">10</option>\r\n                      <option value={25}>25</option>\r\n                      <option value={50}>50</option>\r\n                      <option value={100}>100</option>\r\n                    </select>\r\n                  </label>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-6\">\r\n                <div\r\n                  className=\"text-md-right dataTables_filter\"\r\n                  id=\"dataTable_filter\"\r\n                >\r\n                  <label>\r\n                    <input\r\n                      type=\"search\"\r\n                      className=\"form-control form-control-sm\"\r\n                      aria-controls=\"dataTable\"\r\n                      placeholder=\"🔎 Buscar en reservas\"\r\n                      autoFocus\r\n                      onChange={(e) => setSearch(e.target.value)}\r\n                    />\r\n                  </label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div\r\n              className=\"table-responsive table mt-2\"\r\n              id=\"dataTable\"\r\n              role=\"grid\"\r\n              aria-describedby=\"dataTable_info\"\r\n            >\r\n              <table className=\"table my-0\" id=\"dataTable\">\r\n                <thead>\r\n                  <tr>\r\n                    <th>Local</th>\r\n                    <th>Fecha</th>\r\n                    <th>Hora</th>\r\n                    <th>Estado</th>\r\n                    <th>Detalles</th>\r\n                    <th>Auto-test</th>\r\n                    <th>Anular</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {reservasFiltradas.map((reserva) => (\r\n                    <LineaDeMisReservas\r\n                      key={reserva.id}\r\n                      id={reserva.id}\r\n                      nombre={reserva.local}\r\n                      direccion={reserva.direccion}\r\n                      piso={reserva.piso}\r\n                      fecha={reserva.fecha}\r\n                      hora={reserva.hora}\r\n                      estado={reserva.estado}\r\n                      cantidadReservada={reserva.cantidadReservada}\r\n                      autotest={false}\r\n                    />\r\n                  ))}\r\n                </tbody>\r\n                <tfoot>\r\n                  <tr>\r\n                    <td />\r\n                    <td />\r\n                    <td />\r\n                    <td />\r\n                    <td />\r\n                    <td />\r\n                    <td />\r\n                  </tr>\r\n                </tfoot>\r\n              </table>\r\n            </div>\r\n            <div className=\"row\">\r\n              <div className=\"col-md-6 align-self-center\">\r\n                <p\r\n                  id=\"dataTable_info\"\r\n                  className=\"dataTables_info\"\r\n                  role=\"status\"\r\n                  aria-live=\"polite\"\r\n                >\r\n                  {reservasFiltradas.length !== 0\r\n                    ? `Mostrando 1 a ${reservasFiltradas.length} de 1`\r\n                    : \"No hay resultados\"}\r\n                  <br />\r\n                </p>\r\n              </div>\r\n              <div className=\"col-md-6\">\r\n                <nav className=\"d-lg-flex justify-content-lg-end dataTables_paginate paging_simple_numbers\">\r\n                  <ul className=\"pagination\">\r\n                    <li className=\"page-item disabled\">\r\n                      <Link\r\n                        className=\"page-link\"\r\n                        to=\"/mis-reservas\"\r\n                        aria-label=\"Previous\"\r\n                      >\r\n                        <span aria-hidden=\"true\">«</span>\r\n                      </Link>\r\n                    </li>\r\n                    <li className=\"page-item active\">\r\n                      <Link className=\"page-link\" to=\"/mis-reservas\">\r\n                        1\r\n                      </Link>\r\n                    </li>\r\n                    <li className=\"page-item\">\r\n                      <Link\r\n                        className=\"page-link\"\r\n                        to=\"/mis-reservas\"\r\n                        aria-label=\"Next\"\r\n                      >\r\n                        <span aria-hidden=\"true\">»</span>\r\n                      </Link>\r\n                    </li>\r\n                  </ul>\r\n                </nav>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MisReservas;\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}